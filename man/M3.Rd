% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/m3.R
\name{M3}
\alias{M3}
\title{M3 covariate consistency check}
\usage{
M3(dataset, items, covariates, corr_method = "gamma")
}
\arguments{
\item{dataset}{A data frame containing item responses and covariates.}

\item{items}{Character vector giving the names of item response variables
in \code{dataset}.}

\item{covariates}{Character vector giving the names of covariates in
\code{dataset} to be screened using the M3 criterion.}

\item{corr_method}{Character string specifying the correlation method to use.
Passed to \code{\link[stats]{cor.test}} (e.g., \code{"pearson"},
\code{"spearman"}).}

\item{include_pvalues}{Logical; if \code{TRUE}, p-values from correlation tests
are included in the output.}
}
\value{
A data frame with one row per tested association and the following
columns:
\describe{
\item{covariate}{Name of the covariate.}
\item{target_type}{Either \code{"score"} for the total score or
\code{"item"} for an individual item response.}
\item{target_name}{Name of the score (\code{"total_score"}) or item.}
\item{correlation}{Estimated correlation coefficient (rounded to three
decimal places).}
\item{p_value}{P-value for the correlation test, if requested.}
\item{method}{Correlation method used.}
}
}
\description{
Performs the M3 screening step of the item screening procedure by assessing
monotone associations between external covariates and both the total score
and individual item responses. For each covariate, correlations are computed
with the total score and with each item separately.
}
\details{
The M3 criterion requires that covariates related to the latent trait show
consistent directional associations with item responses and the total score.
}
\examples{
items <- paste0("pain", 1:5)

M3(
  dataset = toy_spadi_pain,
  items = items,
  covariates = c("age", "sex"),
  corr_method = "gamma",
)
}
